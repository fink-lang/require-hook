{
  describe, it,
  mock_fn, anything,
  eq, is,
  called_with, not_called_with
} = import `./testing`


foo = mock_fn:: fn a, b:
  [b, a]


describe:: `matchers`, fn:

  it:: `checks identity`, fn:
    5 is 5

  it:: `checks deep equality`, fn:
    {a: 2, b: 3} eq {a: 2, b: 3}
    [1, 2] eq [1, 2]


describe:: mock_fn, fn:

  it:: `was not called`, fn:
    foo not_called_with anything


  it:: `was called with any args`, fn:
    foo(123, 456)

    foo called_with anything


  it:: `was called with specific args`, fn:
    foo(123, 456)

    foo called_with [123, 456]
    foo not_called_with [123]


  it:: `has a return value`, fn:
    result = foo(123, 456)

    result eq [456, 123]
